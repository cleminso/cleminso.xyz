<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>TL;DR #010 - Decentralization for social network; Privacy token notifications | TL;DR</title>
<meta name=keywords content="Social network,Privacy,Web3 Communities"><meta name=description content="In this TL;DR, discover the challenges for decentralized network and how a push tokens can potentially deanonymize users?"><meta name=author content="Cleminso"><link rel=canonical href=https://cleminso.xyz/tldr/010-decentralization-social-network_privacy-token-notifications/><link crossorigin=anonymous href=/assets/css/stylesheet.e087fd1dc76e73a35ae6d7028ddc1ba41e0131e7f9b3a6e2d019a208e6d6c4b5.css integrity="sha256-4If9Hcduc6Na5tcCjdwbpB4BMef5s6bi0BmiCObWxLU=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://cleminso.xyz/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://cleminso.xyz/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://cleminso.xyz/favicon-32x32.png><link rel=apple-touch-icon href=https://cleminso.xyz/apple-touch-icon.png><link rel=mask-icon href=https://cleminso.xyz/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="TL;DR #010 - Decentralization for social network; Privacy token notifications"><meta property="og:description" content="In this TL;DR, discover the challenges for decentralized network and how a push tokens can potentially deanonymize users?"><meta property="og:type" content="article"><meta property="og:url" content="https://cleminso.xyz/tldr/010-decentralization-social-network_privacy-token-notifications/"><meta property="article:section" content="TL;DR"><meta property="article:published_time" content="2024-01-20T00:00:00+00:00"><meta property="article:modified_time" content="2024-01-20T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="TL;DR #010 - Decentralization for social network; Privacy token notifications"><meta name=twitter:description content="In this TL;DR, discover the challenges for decentralized network and how a push tokens can potentially deanonymize users?"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"TL;DR #010 - Decentralization for social network; Privacy token notifications","item":"https://cleminso.xyz/tldr/010-decentralization-social-network_privacy-token-notifications/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"TL;DR #010 - Decentralization for social network; Privacy token notifications","name":"TL;DR #010 - Decentralization for social network; Privacy token notifications","description":"In this TL;DR, discover the challenges for decentralized network and how a push tokens can potentially deanonymize users?","keywords":["Social network","Privacy","Web3 Communities"],"articleBody":"Sufficient Decentralization for Social Networks Source: Sufficient Decentralization for Social Networks by Varun from Farcaster.\nChallenging problems with decentralizing social networks → Scaling networks are a series of messages passed between users through a centralized server.\nenable users to choose any server they like to store their messages and sign each one with a public/private key public key become a unique identifier for the user, and messages are tamper-proof Alice {write message} → facetok server ⟷ {read message} Bob Alice {write message} → Alice’s server → {read message} Bob → {write message} Bob’s server\nproblem statement:\nusers want their messages available to all followers, which requires an always on-server in the cloud. Self-hosting is complex and expensive as running your own website, is not viable solution - managed hosts\ncompanies host users’ social data. users delegate actions they cannot do themselves But that a trap, this system enable a companie monopole and can block the service for users\n→ Decentralizing the name registry importance to find the correct host to send and receive messages\nName registry, can help to map every user’s unique public key to a host URL, linked to a unique username. allow alice to change this URL protects them against malicious hosts. If a host stops serving their messages, they can modify the registry to point to a new host, and followers will switch to the new location Smart contract (SC) enable decentralize registries:\nuser can make tx to a SC on a blockchain, that performs the functions of a decentralized registry the SC ensures that only that user can change the URL blockchain provide conflict resolution if two peoples try to register the same name simultaneously Only the registry needs to be sync on a blockchain, all securely actions can happen off-chain by signing them with the key pair\n→ Building novel social primitives\nusers really want from a new social network is 8status8 or 8entertainment8, along with the benefits that decentralization offers. The idea maze of things you can do with decentralized identities, blockchains and zk-proofs is large, weird and interesting enough that there are probably many primitives waiting to be discovered. Decentralized social networks should explore this as a way to attract users and offer a new product experience.\nPersonal note:\nCentralized social networks decide for us what, how, and when we see content. We are no longer masters of our feed. With a decentralized network, we can aspire to build a better statement (with ambition) and regain control of our attention.\nWe can do it with a simple RSS feed, but with the emergence of the current social network, this way of consuming content has decreased. Feeding (RSS or not) is more convenient for a microblog or newsletter.\nI currently read about Feed and try to shape a simple app that I would like to use.\nPrivacy of push notification Source: On the Privacy of Push Notifications.\nHow a push tokens can potentially deanonymize users?\nPush notifications are a mechanism through which applications can send and display notifications to users of smartphones.\nUI is well know by user unlike the infrastructure, that drives them in the background is complex mechanism and not without privacy issues.\nPush.N \u003c\u003e Applications\nApp must register a push token tokens are an identifier that references the installation of an App on a specific device they are used as an identifier to route messaging from the internet to a device Privacy problems I - The notifications content is fully visible to hosted platform (deliberate design choice)\nSolution:\nsynchronize secret key material between the app server and the user device over TLS use this key material to encrypt the content of push tokens =\u003e by design the key material is not accessible to push token platform, the content remains protected\nApp developers can minimize the amount of data shared over push notifications\nII - The linkability of push tokens to the device account - the platforms can therefore tie those to user accounts used in App*\nCurrent state to show notifications to users:\napp request push token from platform push notification service (Google, Apple’s etc) App require the push token whenever a notification is to be displayed on user device must therefore hold on to that token for as long as users use the app Process:\nstore the push token on the app server as part of a user account notification is to be sent out the app server looks up the user’s profile, find the associated push token uses it to route the push notification to the user’s device by the intermediate of the platform push notification service In summary:\nThe push token is associated to:\nuser account account or identifier of the concenerd platform (Google; Apple etc) The push token becomes part of user data and that can be requested in the context of a legal warrant\nEven when a user never provided any identifying information to the app, their anonymity is comprimised by the push token\nWhat platform can do? How a system should be incapable to link push tokens to specific user data?\nuse cryptographic has functions can create one way links that can’t be traced back To solve this issue, it result of the platform level, application developers cannot easily address the push token privacy issue. User’s can use alternative platform service like UnifiedPush\nSolution in particulary use cases:\nPush tokens are only stored in encrypted form on the application servers The key to decrypt them is stored on client devices (users’ phones and computers) The key is sent from the client to the server whenever a push notification is sent out and the server discards the key right after the notification is sent Here app dev cannot provide data via push tokens, any longer the servers only hold the decryption key for what is typically a fraction of a second This approach has to prerequisites:\nPush notifications can only be sent out when the action is triggered on a user’s device There needs to be a key management system that involves layers of key wrapping and a practical group key agreement mechanism Use MLS as an encryption protocol. MLS serves as the key negotiation mechanism to easily obtain group keys in group chats\n","wordCount":"1039","inLanguage":"en","datePublished":"2024-01-20T00:00:00Z","dateModified":"2024-01-20T00:00:00Z","author":{"@type":"Person","name":"Cleminso"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://cleminso.xyz/tldr/010-decentralization-social-network_privacy-token-notifications/"},"publisher":{"@type":"Organization","name":"TL;DR","logo":{"@type":"ImageObject","url":"https://cleminso.xyz/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://cleminso.xyz/ accesskey=h title="TL;DR (Alt + H)">TL;DR</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://cleminso.xyz/product-review/ title="Product Review"><span>Product Review</span></a></li><li><a href=https://cleminso.xyz/tldr/ title=TL;DR><span>TL;DR</span></a></li><li><a href=https://cleminso.xyz/definitions/ title=Definitions><span>Definitions</span></a></li><li><a href=https://cleminso.xyz/open-letter/ title="Open Letter"><span>Open Letter</span></a></li><li><a href=https://cleminso.xyz/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://cleminso.xyz/now/ title=Now><span>Now</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://cleminso.xyz/>Home</a></div><h1 class="post-title entry-hint-parent">TL;DR #010 - Decentralization for social network; Privacy token notifications</h1><div class=post-description>In this TL;DR, discover the challenges for decentralized network and how a push tokens can potentially deanonymize users?</div><div class=post-meta><span title='2024-01-20 00:00:00 +0000 UTC'>January 20, 2024</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;1039 words&nbsp;·&nbsp;Cleminso</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#sufficient-decentralization-for-social-networks aria-label="Sufficient Decentralization for Social Networks">Sufficient Decentralization for Social Networks</a><ul><li><a href=#challenging-problems-with-decentralizing-social-networks aria-label="Challenging problems with decentralizing social networks">Challenging problems with decentralizing social networks</a></li></ul></li><li><a href=#privacy-of-push-notification aria-label="Privacy of push notification">Privacy of push notification</a><ul><li><a href=#privacy-problems aria-label="Privacy problems">Privacy problems</a></li><li><a href=#what-platform-can-do aria-label="What platform can do?">What platform can do?</a></li></ul></li></ul></div></details></div><div class=post-content><h2 id=sufficient-decentralization-for-social-networks>Sufficient Decentralization for Social Networks<a hidden class=anchor aria-hidden=true href=#sufficient-decentralization-for-social-networks>#</a></h2><p>Source: <a href=https://www.varunsrinivasan.com/2022/01/11/sufficient-decentralization-for-social-networks>Sufficient Decentralization for Social Networks</a> by <a href=https://twitter.com/varunsrin>Varun</a> from <a href=https://twitter.com/farcaster_xyz>Farcaster</a>.</p><h3 id=challenging-problems-with-decentralizing-social-networks>Challenging problems with decentralizing social networks<a hidden class=anchor aria-hidden=true href=#challenging-problems-with-decentralizing-social-networks>#</a></h3><p>→ <strong>Scaling networks</strong> are a series of messages passed between users through a centralized server.</p><ul><li>enable users to choose any server they like to store their messages and sign each one with a public/private key</li><li>public key become a unique identifier for the user, and messages are tamper-proof</li></ul><p>Alice {write message} → facetok server ⟷ {read message} Bob
Alice {write message} → Alice&rsquo;s server → {read message} Bob → {write message} Bob&rsquo;s server</p><p><strong>problem statement</strong>:</p><ul><li>users want their messages available to all followers, which requires an always on-server in the cloud. Self-hosting is complex and expensive as running your own website, is not viable</li></ul><p><strong>solution</strong> - managed hosts</p><ul><li>companies host users&rsquo; social data. users delegate actions they cannot do themselves</li></ul><blockquote><p>But that a trap, this system enable a companie monopole and can block the service for users</p></blockquote><p>→ <strong>Decentralizing the name registry</strong> importance to find the correct host to send and receive messages</p><ul><li>Name registry, can help to map every user&rsquo;s unique public key to a host URL, linked to a unique username.<ul><li>allow alice to change this URL protects them against malicious hosts. If a host stops serving their messages, they can modify the registry to point to a new host, and followers will switch to the new location</li></ul></li></ul><p>Smart contract (SC) enable decentralize registries:</p><ul><li>user can make tx to a SC on a blockchain, that performs the functions of a decentralized registry</li><li>the SC ensures that only that user can change the URL</li><li>blockchain provide conflict resolution if two peoples try to register the same name simultaneously</li></ul><p>Only the registry needs to be sync on a blockchain, all securely actions can happen off-chain by signing them with the key pair</p><p>→ <strong>Building novel social primitives</strong></p><ul><li>users really want from a new social network is 8status8 or 8entertainment8, along with the benefits that decentralization offers.</li></ul><p>The idea maze of things you can do with decentralized identities, blockchains and zk-proofs is large, weird and interesting enough that there are probably many primitives waiting to be discovered. Decentralized social networks should explore this as a way to attract users and offer a new product experience.</p><hr><p><strong>Personal note</strong>:</p><p>Centralized social networks decide for us what, how, and when we see content. We are no longer masters of our feed. With a decentralized network, we can aspire to build a better statement (with ambition) and regain control of our attention.</p><p>We can do it with a simple RSS feed, but with the emergence of the current social network, this way of consuming content has decreased. Feeding (RSS or not) is more convenient for a microblog or newsletter.</p><p><em>I currently read about Feed and try to shape a simple app that I would like to use</em>.</p><hr><h2 id=privacy-of-push-notification>Privacy of push notification<a hidden class=anchor aria-hidden=true href=#privacy-of-push-notification>#</a></h2><p>Source: <a href=https://blog.phnx.im/privacy-of-push-notifications/>On the Privacy of Push Notifications</a>.</p><p>How a push tokens can potentially deanonymize users?</p><blockquote><p>Push notifications are a mechanism through which applications can send and display notifications to users of smartphones.</p></blockquote><p><em>UI is well know by user unlike the infrastructure, that drives them in the background is complex mechanism and not without privacy issues</em>.</p><p>Push.N &lt;> Applications</p><ul><li>App must register a push token<ul><li>tokens are an identifier that references the installation of an App on a specific device</li><li>they are used as an identifier to route messaging from the internet to a device</li></ul></li></ul><h3 id=privacy-problems>Privacy problems<a hidden class=anchor aria-hidden=true href=#privacy-problems>#</a></h3><p><strong>I - The notifications content is fully visible to hosted platform (deliberate design choice)</strong></p><p>Solution:</p><ol><li>synchronize secret key material between the app server and the user device over TLS</li><li>use this key material to encrypt the content of push tokens</li></ol><p>=> by design the key material is not accessible to push token platform, the content remains protected<br>App developers can minimize the amount of data shared over push notifications</p><p><strong>II - The linkability of push tokens to the device account</strong> - the platforms can therefore tie those to user accounts used in App*</p><p>Current state to show notifications to users:</p><ol><li>app request push token from platform push notification service (Google, Apple&rsquo;s etc)</li><li>App require the push token whenever a notification is to be displayed on user device<ul><li>must therefore hold on to that token for as long as users use the app</li></ul></li></ol><p>Process:</p><ol><li>store the push token on the app server as part of a user account</li><li>notification is to be sent out the app server looks up the user&rsquo;s profile, find the associated push token<ul><li>uses it to route the push notification to the user&rsquo;s device by the intermediate of the platform push notification service</li></ul></li></ol><p><strong>In summary:</strong></p><p>The push token is associated to:</p><ul><li>user account</li><li>account or identifier of the concenerd platform (Google; Apple etc)</li></ul><p>The push token <strong>becomes part of user data</strong> and that can be requested in the context of a legal warrant</p><p>Even when a user never provided any identifying information to the app, their anonymity is comprimised by the push token</p><h3 id=what-platform-can-do>What platform can do?<a hidden class=anchor aria-hidden=true href=#what-platform-can-do>#</a></h3><p>How a system should be incapable to link push tokens to specific user data?</p><ul><li>use cryptographic has functions can create one way links that can&rsquo;t be traced back</li></ul><p>To solve this issue, it result of the platform level, application developers cannot easily address the push token privacy issue. User&rsquo;s can use alternative platform service like UnifiedPush</p><p><strong>Solution in particulary use cases:</strong></p><ul><li>Push tokens are only stored in encrypted form on the application servers</li><li>The key to decrypt them is stored on client devices (users’ phones and computers)</li><li>The key is sent from the client to the server whenever a push notification is sent out and the server discards the key right after the notification is sent
Here app dev cannot provide data via push tokens, any longer the servers only hold the decryption key for what is typically a fraction of a second</li></ul><p><strong>This approach has to prerequisites:</strong></p><ol><li>Push notifications can only be sent out when the action is triggered on a user’s device</li><li>There needs to be a key management system that involves layers of key wrapping and a practical group key agreement mechanism</li></ol><p>Use MLS as an encryption protocol. MLS serves as the key negotiation mechanism to easily obtain group keys in group chats</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://cleminso.xyz/tags/social-network/>Social network</a></li><li><a href=https://cleminso.xyz/tags/privacy/>Privacy</a></li><li><a href=https://cleminso.xyz/tags/web3-communities/>Web3 Communities</a></li></ul></footer></article></main><footer class=footer><span>© 2023 cleminso.eth |</span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>